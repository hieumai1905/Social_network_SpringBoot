<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Profile - me</title>

    <link rel="stylesheet" th:href="@{/assets/css/themify-icons.css}">
    <link rel="stylesheet" th:href="@{/assets/css/feather.css}">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/assets/images/favicon.png}">
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <link rel="stylesheet" th:href="@{/assets/css/lightbox.css}">

</head>

<body class="color-theme-blue mont-font">

<div class="preloader"></div>


<div class="main-wrapper">
    <!-- navigation top-->
    <div th:insert="~{fragments/header-fragment::frag-header}" class="nav-header bg-white shadow-xs border-0">
    </div>
    <!-- navigation top -->

    <!-- navigation left -->
    <nav th:insert="~{fragments/nav-fragment::frag-navbar}" class="navigation scroll-bar">
    </nav>
    <!-- navigation left -->
    <!-- main content -->
    <div class="main-content right-chat-active">

        <div class="middle-sidebar-bottom">
            <div class="middle-sidebar-left">
                <div class="row">
                    <div class="col-lg-12 mb-3">
                        <div class="card w-100 border-0 p-0 bg-white shadow-xss rounded-xxl">
                            <div class="card-body h250 p-0 rounded-xxl overflow-hidden m-3">
                                <img th:src="${user_info.coverPhoto}" class="w-100" style="max-height: 350px"
                                     alt="image"></div>
                            <div class="card-body p-0 position-relative">
                                <figure class="avatar position-absolute w100 z-index-1" style="top:-40px; left: 30px;">
                                    <img th:src="${user_info.avatar}" alt="image"
                                         class="float-right p-1 bg-white rounded-circle w-100"></figure>
                                <h4 class="fw-700 font-sm mt-2 mb-lg-5 mb-4 pl-15" th:text="${user_info.fullName}">
                                </h4>
                                <div class="d-flex align-items-center justify-content-center position-absolute-md right-15 top-0 me-2">
                                    <a href="#"
                                       class="d-none d-lg-block bg-success p-3 z-index-1 rounded-3 text-white font-xsssss text-uppercase fw-700 ls-3"
                                       th:if="${!author && !isFriend}" style="margin-right: 8px;">Add Friend</a>
                                    <a href="#"
                                       class="d-none d-lg-block bg-grey p-3 z-index-1 rounded-3 text-grey-900 font-xsssss text-uppercase fw-700 ls-3"
                                       th:if="${!author && isFriend}"  style="margin-right: 8px;"> Cancel Friend</a>
                                    <a href="#"
                                       class="d-none d-lg-block bg-grey p-3 z-index-1 rounded-3 text-grey-900 font-xsssss text-uppercase fw-700 ls-3"
                                       th:if="${!author && isFollow}" th:text="UnFollow"></a>
                                    <a href="#"
                                       class="d-none d-lg-block bg-success p-3 z-index-1 rounded-3 text-white font-xsssss text-uppercase fw-700 ls-3"
                                       th:if="${!author && !isFollow}" th:text="Follow"></a>
                                    <a href="#" id="dropdownMenu4"
                                       class="d-none d-lg-block btn-round-lg ms-2 rounded-3 text-grey-700 bg-greylight"
                                       data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i
                                            class="ti-more font-md"></i></a>
                                    <div th:if="${!author}"
                                         class="dropdown-menu dropdown-menu-end p-3 rounded-xxl border-0 shadow-lg m-1"
                                         aria-labelledby="dropdownMenu4">
                                        <div class="card-body p-0 d-flex mb-3">
                                            <i class="feather-flag text-grey-500 me-3 font-lg"></i>
                                            <a href="#" class="fw-600 text-grey-900 font-xssss mt-1 me-0">Report</a>
                                        </div>
                                        <div class="card-body p-0 d-flex mt-2">
                                            <i class="feather-lock text-grey-500 me-3 font-lg"></i>
                                            <a href="#" class="fw-600 text-grey-900 font-xssss mt-1 me-0">Block</a>
                                        </div>
                                    </div>

                                    <div th:if="${author}"
                                         class="dropdown-menu dropdown-menu-end p-3 rounded-xxl border-0 shadow-lg m-1"
                                         aria-labelledby="dropdownMenu4">
                                        <div class="card-body p-0 d-flex">
                                            <i class="feather-flag text-grey-500 me-3 font-lg"></i>
                                            <a href="#" class="fw-600 text-grey-900 font-xssss mt-1 me-0">Lock</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-xxl-3 col-lg-4 pe-0">
                        <div class="card w-100 shadow-xss rounded-xxl border-0 mb-3">
                            <div class="card-body d-block p-4">
                                <h4 class="fw-700 mb-3 font-xsss text-grey-900">Intro</h4>
                                <p class="fw-500 text-grey-500 lh-24 font-xssss mb-0"
                                   th:if="${user_info.aboutMe != null}" th:text="${user_info.aboutMe}"></p>
                            </div>

                            <div class="card-body border-top-xs d-flex">
                                <i class="feather-mail text-grey-500 me-3 font-lg"></i>
                                <h4 class="fw-700 text-grey-900 font-xssss mt-1" th:text="${user_info.email}"></h4>
                            </div>
                            <div class="card-body d-flex pt-0" th:if="${user_info.dob != null}">
                                <i class="feather-calendar text-grey-500 me-3 font-lg"></i>
                                <h4 class="fw-700 text-grey-900 font-xssss mt-0">Birthday <span
                                        class="d-block font-xssss fw-500 mt-1 lh-3 text-grey-500"
                                        th:text="${user_info.dob}"></span>
                                </h4>
                            </div>

                            <div class="card-body d-flex pt-0" th:if="${user_info.country != null}">
                                <i class="feather-map-pin text-grey-500 me-3 font-lg"></i>
                                <h4 class="fw-700 text-grey-900 font-xssss mt-1" th:text="${user_info.country}"></h4>
                            </div>
                            <div class="card-body d-flex pt-0">
                                <i class="feather-users text-grey-500 me-3 font-lg"></i>
                                <h4 class="fw-700 font-xssss mt-1">
                                    <a href="/friends" class="text-grey-900">
                                    <span  th:text="${number_of_friends}" th:if="${number_of_friends >0}"></span>&nbsp; Friends
                                    </a>
                                </h4>
                            </div>
                        </div>
                        <div class="card w-100 shadow-xss rounded-xxl border-0 mb-3">
                            <div class="card-body d-flex align-items-center  p-4">
                                <h4 class="fw-700 mb-0 font-xssss text-grey-900">Photos</h4>
                                <a href="#" class="fw-600 ms-auto font-xssss text-primary">See all</a>
                            </div>
                            <div class="card-body d-block pt-0 pb-2">
                                <div class="row">
                                    <div class="col-6 mb-2 pe-1" th:each="media: ${medias}">
                                        <a th:href="${media.url}">
                                            <img th:src="${media.url}" alt="image" class="img-fluid rounded-3 w-100">
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-xl-8 col-xxl-9 col-lg-8">
                        <!--                        post at here-->

                        <div class="card w-100 shadow-xss rounded-xxl border-0 p-4 mb-3" th:each=" item: ${posts}">
                            <div class="card-body p-0 d-flex">
                                <figure class="avatar me-3"><img th:src="${item.user.avatar}" alt="image"
                                                                 class="shadow-sm rounded-circle w45"></figure>
                                <h4 class="fw-700 text-grey-900 font-xssss mt-1">
                                    <span th:text="${item.user.fullName}"></span>
                                    <span class="createAtSpan d-block font-xssss fw-500 mt-1 lh-3 text-grey-500"
                                          th:data-createAt="${item.createAt}"></span>
                                </h4>
                                <a href="#" class="ms-auto" id="dropdownMenu2" data-bs-toggle="dropdown"
                                   aria-expanded="false"><i
                                        class="ti-more-alt text-grey-900 btn-round-md bg-greylight font-xss"></i></a>
                                <div class="dropdown-menu dropdown-menu-end p-4 rounded-xxl border-0 shadow-lg"
                                     aria-labelledby="dropdownMenu2">
                                    <div class="card-body p-0 d-flex">
                                        <i class="feather-bookmark text-grey-500 me-3 font-lg"></i>
                                        <h4 class="fw-600 text-grey-900 font-xssss mt-0 me-4">Save Link <span
                                                class="d-block font-xsssss fw-500 mt-1 lh-3 text-grey-500">Add this
                                                    to your saved items</span>
                                        </h4>
                                    </div>
                                    <div class="card-body p-0 d-flex mt-2">
                                        <i class="feather-alert-circle text-grey-500 me-3 font-lg"></i>
                                        <h4 class="fw-600 text-grey-900 font-xssss mt-0 me-4">Hide Post <span
                                                class="d-block font-xsssss fw-500 mt-1 lh-3 text-grey-500">Save to
                                                    your saved items</span>
                                        </h4>
                                    </div>
                                    <div class="card-body p-0 d-flex mt-2">
                                        <i class="feather-alert-octagon text-grey-500 me-3 font-lg"></i>
                                        <h4 class="fw-600 text-grey-900 font-xssss mt-0 me-4">Hide all from Group
                                            <span class="d-block font-xsssss fw-500 mt-1 lh-3 text-grey-500">Save to
                                                    your saved items</span>
                                        </h4>
                                    </div>
                                    <div class="card-body p-0 d-flex mt-2">
                                        <i class="feather-lock text-grey-500 me-3 font-lg"></i>
                                        <h4 class="fw-600 mb-0 text-grey-900 font-xssss mt-0 me-4">Unfollow Group
                                            <span class="d-block font-xsssss fw-500 mt-1 lh-3 text-grey-500">Save to
                                                    your saved items</span>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body p-0 me-lg-5">
                                <p class="fw-500 text-grey-500 lh-26 font-xssss w-100" th:text="${item.postContent}">
                                    <!--                                    <a href="#" class="fw-600 text-primary ms-2">See more</a>-->
                                </p>
                            </div>
                            <div class="card-body d-block p-0">
                                <div class="row ps-2 pe-2">
                                    <div class="col-xs-4 col-sm-4 p-1" th:each="image, iterStat: ${item.medias}">
                                        <a th:href="${image.url}" data-lightbox="roadtrip"
                                           th:if="${iterStat.count} <= 3"
                                           th:classappend="${iterStat.count} == 3 and ${item.medias.size()} > 3 ? 'position-relative d-block' : ''">
                                            <img th:src="${image.url}" class="rounded-3 w-100" alt="image">
                                            <span th:if="${iterStat.count == 3 and item.medias.size() > 3}"
                                                  class="img-count font-sm text-white ls-3 fw-600">
                                            <b>+[[${item.medias.size() - 3}]]</b>
                                              </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body d-flex p-0 mt-3">
                                <a href="#"
                                   class="emoji-btn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2">
                                    <span th:if="${item.isLiked}">
                                             <i class="feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"></i>
                                            </span>
                                    <span th:unless="${item.isLiked}">
                                             <i class="feather-thumbs-up text-grey-900 me-1 btn-round-xs font-xss"></i>
                                            </span>
                                    <span th:text="${item.likes.size()}" th:if="${item.likes.size() > 0}"></span> &nbsp;
                                    Like
                                </a>

                                <button class="btn-comment d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss border-0 bg-white">
                                    <i class="feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"></i>
                                    <span class="d-none-xss" th:text="${item.comments.size()}"
                                          th:if="${item.comments.size() > 0}"></span> &nbsp; Comment
                                </button>
                                <a href="#" id="dropdownMenu21" data-bs-toggle="dropdown" aria-expanded="false"
                                   class="ms-auto d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss"><i
                                        class="feather-share-2 text-grey-900 text-dark btn-round-sm font-lg"></i><span
                                        class="d-none-xs">Share</span></a>
                                <div class="dropdown-menu dropdown-menu-end p-4 rounded-xxl border-0 shadow-lg"
                                     aria-labelledby="dropdownMenu21">
                                    <h4 class="fw-700 font-xss text-grey-900 d-flex align-items-center">Share <i
                                            class="feather-x ms-auto font-xssss btn-round-xs bg-greylight text-grey-900 me-2"></i>
                                    </h4>
                                    <div class="card-body p-0 d-flex">
                                        <ul class="d-flex align-items-center justify-content-between mt-2">
                                            <li class="me-1"><a href="#" class="btn-round-lg bg-facebook"><i
                                                    class="font-xs ti-facebook text-white"></i></a></li>
                                            <li class="me-1"><a href="#" class="btn-round-lg bg-twiiter"><i
                                                    class="font-xs ti-twitter-alt text-white"></i></a></li>
                                            <li class="me-1"><a href="#" class="btn-round-lg bg-linkedin"><i
                                                    class="font-xs ti-linkedin text-white"></i></a></li>
                                            <li class="me-1"><a href="#" class="btn-round-lg bg-instagram"><i
                                                    class="font-xs ti-instagram text-white"></i></a></li>
                                            <li><a href="#" class="btn-round-lg bg-pinterest"><i
                                                    class="font-xs ti-pinterest text-white"></i></a></li>
                                        </ul>
                                    </div>
                                    <h4 class="fw-700 font-xssss mt-4 text-grey-500 d-flex align-items-center mb-3">
                                        Copy
                                        Link</h4>
                                    <i class="feather-copy position-absolute right-35 mt-3 font-xs text-grey-500"></i>
                                    <input type="text" value="https://socia.be/1rGxjoJKVF0"
                                           class="bg-grey text-grey-500 font-xssss border-0 lh-32 p-2 font-xssss fw-600 rounded-3 w-100 theme-dark-bg">
                                </div>
                            </div>
                            <hr>
                            <!--                           start show list comment-->
                            <div class="comments-list" style="display: none; max-height: 300px; overflow-y: auto;">
                                <div class="comment" th:each="comment:${item.comments}">
                                    <div class="card-body p-0 d-flex">
                                        <figure class="avatar me-3"><img th:src="${comment.user.avatar}" alt="image"
                                                                         class="shadow-sm rounded-circle w45"></figure>

                                        <div class="comment bg-light rounded-xxl p-2">
                                            <h4 class="fw-700 text-grey-900 font-xssss mt-1"
                                                th:text="${comment.user.fullName}"></h4>
                                            <p th:text="${comment.content}"></p>
                                        </div>
                                    </div>
                                    <div class="ms-6">
                                        <div class="card-body d-flex p-0 mt-1">
                                            <span class="commentAtSpan d-flex align-items-center fw-600 text-grey-500 lh-26 font-xssss me-2"
                                                  th:data-commentAt="${comment.commentAt}"></span>
                                            <a href="#"
                                               class="emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2">
                                                 <span th:if="${comment.isLiked}">
                                             <i class="feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"></i>
                                            </span>
                                                <span th:unless="${comment.isLiked}">
                                             <i class="feather-thumbs-up text-grey-900 me-1 btn-round-xs font-xss"></i>
                                            </span>
                                                <span th:text="${comment.likes.size()}" th:if="${comment.likes.size() > 0}"></span> &nbsp; Like
                                            </a>
                                            <a class="btn-comment-reply d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss"><i
                                                    class="feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"></i>
                                                <span class="d-none-xss" th:text="${comment.commentReplies.size()}"
                                                      th:if="${comment.commentReplies.size() >0}"></span> &nbsp; Reply
                                            </a>
                                        </div>
                                    </div>
                                    <div class="comments-reply-list" style="margin-left: 15%; display: none;">
                                        <div class="ms-6 mt-2" th:each="commentReply: ${comment.commentReplies}">
                                            <div class="card-body p-0 d-flex">
                                                <figure class="avatar me-3"><img th:src="${commentReply.user.avatar}"
                                                                                 alt="image"
                                                                                 class="shadow-sm rounded-circle w45">
                                                </figure>

                                                <div class="comment bg-light rounded-xxl p-3">
                                                    <h4 class="fw-700 text-grey-900 font-xssss mt-1"
                                                        th:text="${commentReply.user.fullName}"></h4>
                                                    <p th:text="${commentReply.content}"></p>
                                                </div>
                                            </div>
                                            <div class="ms-6">
                                                <div class="card-body d-flex p-0 mt-1">
                                                    <span class="commentReplyAtSpan d-flex align-items-center fw-600 text-grey-500 lh-26 font-xssss me-2"
                                                          th:data-commentReplyAt="${commentReply.replyAt}"></span>
                                                    <a href="#"
                                                       class="emoji-btn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2">
                                                        <span th:if="${commentReply.isLiked}">
                                             <i class="feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"></i>
                                            </span>
                                                        <span th:unless="${commentReply.isLiked}">
                                             <i class="feather-thumbs-up text-grey-900 me-1 btn-round-xs font-xss"></i>
                                            </span>
                                                        <span th:text="${commentReply.likes.size()}" th:if="${commentReply.likes.size() > 0}"></span> &nbsp; Like</a>
                                                    <button class="d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss border-0 bg-white">
                                                        Reply
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--                           end show list commentReply-->
                            <div class="card-body p-0 mt-3 position-relative">
                                <figure class="avatar position-absolute ms-2 mt-1 top-5">
                                    <img th:src="${user_info.avatar}" alt="image" class="shadow-sm rounded-circle w30">
                                </figure>
                                <textarea name="message"
                                          class="h100 bor-0 w-100 rounded-xxl p-2 ps-5 font-xssss text-grey-500 fw-500 border-light-md theme-dark-bg"
                                          cols="30" rows="5" placeholder="What's on your mind?"></textarea>
                                <figure class="avatar position-absolute font-xssss end-0 me-3 mt-2 top-5">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"
                                         viewBox="0 0 512 512">
                                        <path d="M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"></path>
                                    </svg>
                                </figure>
                                <figure class="avatar position-absolute mt-5 top-5 me-3 end-0">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"
                                         viewBox="0 0 512 512">
                                        <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                                        <path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"></path>
                                    </svg>
                                </figure>
                            </div>
                        </div>
                        <!--                        post end at here-->
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!-- main content -->

    <!-- right chat -->
    <div th:insert="~{fragments/right-chat-fragment::frag-chat}" class="right-chat nav-wrap mt-2 right-scroll-bar">
    </div>
    <!-- right chat -->

</div>

<div class="modal-popup-chat">
    <div class="modal-popup-wrap bg-white p-0 shadow-lg rounded-3">
        <div class="modal-popup-header w-100 border-bottom">
            <div class="card p-3 d-block border-0 d-block">
                <figure class="avatar mb-0 float-left me-2">
                    <img th:src="@{/images/user-12.png}" alt="image" class="w35 me-1">
                </figure>
                <h5 class="fw-700 text-primary font-xssss mt-1 mb-1">Hendrix Stamp</h5>
                <h4 class="text-grey-500 font-xsssss mt-0 mb-0"><span
                        class="d-inline-block bg-success btn-round-xss m-0"></span> Available</h4>
                <a href="#" class="font-xssss position-absolute right-0 top-0 mt-3 me-4"><i
                        class="ti-close text-grey-900 mt-2 d-inline-block"></i></a>
            </div>
        </div>
        <div class="modal-popup-body w-100 p-3 h-auto">
            <div class="message">
                <div class="message-content font-xssss lh-24 fw-500">Hi, how can I help you?</div>
            </div>
            <div class="date-break font-xsssss lh-24 fw-500 text-grey-500 mt-2 mb-2">Mon 10:20am</div>
            <div class="message self text-right mt-2">
                <div class="message-content font-xssss lh-24 fw-500">I want those files for you. I want you to send 1
                    PDF and 1 image file.
                </div>
            </div>
            <div class="snippet pt-3 ps-4 pb-2 pe-3 mt-2 bg-grey rounded-xl float-right" data-title=".dot-typing">
                <div class="stage">
                    <div class="dot-typing"></div>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="modal-popup-footer w-100 border-top">
            <div class="card p-3 d-block border-0 d-block">
                <div class="form-group icon-right-input style1-input mb-0"><input type="text"
                                                                                  placeholder="Start typing.."
                                                                                  class="form-control rounded-xl bg-greylight border-0 font-xssss fw-500 ps-3"><i
                        class="feather-send text-grey-500 font-md"></i></div>
            </div>
        </div>
    </div>
</div>


<script th:src="@{/assets/js/plugin.js}"></script>
<script th:src="@{/assets/js/lightbox.js}"></script>
<script th:src="@{/assets/js/scripts.js}"></script>
<script th:src="@{/assets/js/post/show-post.js}"></script>
</body>
</html>